---
- summary: | # № 1
    Проверка создания куки для сайта игры во время первой сессии новому пользователю
  requirement: |
    Новому пользователю во время первой сессии должна создаваться куки для сайта игры
  prerequisites: |
    Пользователь не авторизован.
    Пользователь ни разу не заходил на сайт игры
  test-data: |
    Отсутствуют
  steps:
    - Открыть любую страницу
  expected-result: |
    В DevTools во вкладке "Application" в разделе "Storage" в подразделе "Cookies" создалась куки для сайта игры
    
- summary: | # № 2
    Проверка успешной регистрации по электронной почте
  requirement: |
    Пользователь может зарегистрироваться на сайте по электронной почте
  prerequisites: |
    Пользователь не авторизован, открыта страница регистрации
  test-data: |
    Nickname = Test_User_1
    Email = testa-testova.2023@bk.ru
    Password = test2023!
    Password Confirmation = test2023!
  steps:
    - Ввести в поле ввода значение "Nickname"
    - Ввести в поле ввода значение "Email"
    - Ввести в поле ввода значение "Password"
    - Ввести в поле ввода значение "Password Confirmation"
    - Нажать на кнопку "Submit"
  expected-result: |
    - Пользователь авторизован и находится на главной странице
    - На кнопке вызова навигационного меню отображается информация   об авторизованном пользователе (имя, аватар, рейтинг, ранг)
    - Пользователю автоматически сгенерировался аватар
    - Пользователю присвоился рейтинг = 1200
    - В чате появилось уведомление о присоединении к каналу "Lobby"
    - Пользователь отображается в списке онлайн пользователей в канале "Lobby"
    - В DevTools во вкладке "Network" появился GET-запрос "completed" со статус-кодом 200

- summary: | # № 3
    Проверка невозможности регистрации с именем существующего пользователя
  requirement: |
    Имя пользователя должно быть уникальным
  prerequisites: |
    Пользователь не авторизован, открыта страница регистрации
  test-data: |
    Nickname = Test_User_1
    Email = test-testov.2023@mail.ru
    Password = test2023!!
    Password Confirmation = test2023!!
  steps:
    - Ввести в поле ввода значение "Nickname"
    - Ввести в поле ввода значение "Email"
    - Ввести в поле ввода значение "Password"
    - Ввести в поле ввода значение "Password Confirmation"
    - Нажать на кнопку "Submit"
  expected-result: |
    - Поле ввода "Nickname" выделено красным
    - Пользователю отображается уведомление о существовании пользователя с указанным именем
    - В DevTools во вкладке "Network" появился POST-запрос "users" со статус-кодом 422

- summary: | # № 4
    Проверка невозможности регистрации с именем пользователя равным 2-м символам
  requirement: |
    Имя пользователя должно содержать от 3 до 16 символов
  prerequisites: |
    Пользователь не авторизован, открыта страница регистрации
  test-data: |
    Nickname = TT
    Email = test-testov.2023@mail.ru
    Password = test2023!!
    Password Confirmation = test2023!!
  steps:
    - Ввести в поле ввода значение "Nickname"
    - Ввести в поле ввода значение "Email"
    - Ввести в поле ввода значение "Password"
    - Ввести в поле ввода значение "Password Confirmation"
    - Нажать на кнопку "Submit"
  expected-result: |
    - Поле ввода "Nickname" выделено красным
    - Пользователю отображается уведомление о необходимости указания имени пользователя в количестве от 3 до 16 символов

- summary: | # № 5
    Проверка невозможности регистрации с именем пользователя равным 17-ти символам
  requirement: |
    Имя пользователя должно содержать от 3 до 16 символов
  prerequisites: |
    Пользователь не авторизован, открыта страница регистрации
  test-data: |
    Nickname = Test_User_1234567
    Email = test-testov.2023@mail.ru
    Password = test2023!!
    Password Confirmation = test2023!!
  steps:
    - Ввести в поле ввода значение "Nickname"
    - Ввести в поле ввода значение "Email"
    - Ввести в поле ввода значение "Password"
    - Ввести в поле ввода значение "Password Confirmation"
    - Нажать на кнопку "Submit"
  expected-result: |
    - Поле ввода "Nickname" выделено красным
    - Пользователю отображается уведомление о необходимости указания имени пользователя в количестве от 3 до 16 символов

- summary: | # № 6
    Проверка невозможности регистрации с электронной почтой существующего пользователя
  requirement: |
    Электронная почта должна быть уникальной
  prerequisites: |
    Пользователь не авторизован, открыта страница регистрации
  test-data: |
    Nickname = Test_User_2
    Email = testa-testova.2023@bk.ru
    Password = test2023!!
    Password Confirmation = test2023!!
  steps:
    - Ввести в поле ввода значение "Nickname"
    - Ввести в поле ввода значение "Email"
    - Ввести в поле ввода значение "Password"
    - Ввести в поле ввода значение "Password Confirmation"
    - Нажать на кнопку "Submit"
  expected-result: |
    - Поле ввода "Email" выделено красным
    - Пользователю отображается уведомление о существовании пользователя с указанной электронной почтой
    - В DevTools во вкладке "Network" появился POST-запрос "users" со статус-кодом 422

- summary: | # № 7
    Проверка невозможности регистрации с электронной почтой с отсутствующим символом "@"
  requirement: |
    Электронная почта должна соответствовать шаблону "x@y.z", где "х" – имя почтового ящика, "y.z" – доменное имя сервера почтового ящика 
  prerequisites: |
    Пользователь не авторизован, открыта страница регистрации
  test-data: |
    Nickname = Test_User_2
    Email = test-testov.2023mail.ru
    Password = test2023!!
    Password Confirmation = test2023!!
  steps:
    - Ввести в поле ввода значение "Nickname"
    - Ввести в поле ввода значение "Email"
    - Ввести в поле ввода значение "Password"
    - Ввести в поле ввода значение "Password Confirmation"
    - Нажать на кнопку "Submit"
  expected-result: |
    - Поле ввода "Email" выделено красным
    - Пользователю отображается уведомление о неверно указанной электронной почте

- summary: | # № 8
    Проверка невозможности регистрации с несовпадающими паролями
  requirement: |
    При регистрации запрашивается подтверждение пароля. Введенные пароли должны совпадать
  prerequisites: |
    Пользователь не авторизован, открыта страница регистрации
  test-data: |
    Nickname = Test_User_2
    Email = test-testov.2023@mail.ru
    Password = QAacc2023!
    Password Confirmation = QAacc2023
  steps:
    - Ввести в поле ввода значение "Nickname"
    - Ввести в поле ввода значение "Email"
    - Ввести в поле ввода значение "Password"
    - Ввести в поле ввода значение "Password Confirmation"
    - Нажать на кнопку "Submit"
  expected-result: |
    - Поле ввода "Password Confirmation" выделено красным
    - Пользователю отображается уведомление о несовпадении указанных паролей

- summary: | # № 9
    Проверка невозможности регистрации с паролем равным 5-ти символам
  requirement: |
    Пароль должен содержать от 6 до 16 символов
  prerequisites: |
    Пользователь не авторизован, открыта страница регистрации
  test-data: |
    Nickname = Test_User_2
    Email = test-testov.2023@mail.ru
    Password = test!
    Password Confirmation = test!
  steps:
    - Ввести в поле ввода значение "Nickname"
    - Ввести в поле ввода значение "Email"
    - Ввести в поле ввода значение "Password"
    - Ввести в поле ввода значение "Password Confirmation"
    - Нажать на кнопку "Submit"
  expected-result: |
    - Поле ввода "Password" выделено красным
    - Пользователю отображается уведомление о необходимости указания пароля в количестве от 6 до 16 символов

- summary: | # № 10
    Проверка невозможности регистрации с паролем равным 17-ти символам
  requirement: |
    Пароль должен содержать от 6 до 16 символов
  prerequisites: |
    Пользователь не авторизован, открыта страница регистрации
  test-data: |
    Nickname = Test_User_2
    Email = test-testov.2023@mail.ru
    Password = test123456789!!!!
    Password Confirmation = test123456789!!!!
  steps:
    - Ввести в поле ввода значение "Nickname"
    - Ввести в поле ввода значение "Email"
    - Ввести в поле ввода значение "Password"
    - Ввести в поле ввода значение "Password Confirmation"
    - Нажать на кнопку "Submit"
  expected-result: |
    - Поле ввода "Password" выделено красным
    - Пользователю отображается уведомление о необходимости указания пароля в количестве от 6 до 16 символов

- summary: | # № 11
    Проверка успешной авторизации по электронной почте
  requirement: |
    Зарегистрированный пользователь может авторизоваться по электронной почте
  prerequisites: |
    Пользователь зарегистрирован по электронной почте.
    Пользователь не авторизован, открыта страница авторизации
  test-data: |
    Email = testa-testova.2023@bk.ru
    Password = test2023!
  steps:
    - Ввести в поле ввода значение "Email"
    - Ввести в поле ввода значение "Password"
    - Нажать на кнопку "Submit"
  expected-result: |
    - Пользователь авторизован и находится на главной странице
    - Пользователю отображается уведомление об успешной аутентификации
    - В чате появилось уведомление о присоединении к каналу "Lobby"
    - Пользователь отображается в списке онлайн пользователей в канале "Lobby"
    - В DevTools во вкладке "Network" появился GET-запрос "completed" со статус-кодом 200

- summary: | # № 12
    Проверка невозможности авторизации по электронной почте, отсутствующей в базе данных
  requirement: |
    Данные пользователя при авторизации должны совпадать с данными в базе
  prerequisites: |
    Пользователь не зарегистрирован.
    Пользователь не авторизован, открыта страница авторизации
  test-data: |
    Email = testa-testova.2024@bk.ru
    Password = test2023!
  steps:
    - Ввести в поле ввода значение "Email"
    - Ввести в поле ввода значение "Password"
    - Нажать на кнопку "Submit"
  expected-result: |
    - Поле ввода "Email" выделено красным
    - Пользователю отображается уведомление об отсутствии пользователя с указанной электронной почтой
    - В DevTools во вкладке "Network" появился POST-запрос "session" со статус-кодом 422

- summary: | # № 13
    Проверка невозможности авторизации с электронной почтой с отсутствующим символом "." в части доменного имени сервера почтового ящика
  requirement: |
    Электронная почта должна соответствовать шаблону "x@y.z", где "х" – имя почтового ящика, "y.z" – доменное имя сервера почтового ящика 
  prerequisites: |
    Пользователь не авторизован, открыта страница авторизации
  test-data: |
    Email = testa-testova.2024@bkru
    Password = test2023!
  steps:
    - Ввести в поле ввода значение "Email"
    - Ввести в поле ввода значение "Password"
    - Нажать на кнопку "Submit"
  expected-result: |
    - Поле ввода "Email" выделено красным
    - Пользователю отображается уведомление о неверно указанной электронной почте

- summary: | # № 14
    Проверка невозможности авторизации с паролем, не соответствующим паролю в базе данных
  requirement: |
    Данные пользователя при авторизации должны совпадать с данными в базе
  prerequisites: |
    Пользователь зарегистрирован.
    Пользователь не авторизован, открыта страница авторизации
  test-data: |
    Email = testa-testova.2023@bk.ru
    Password = test2023?
  steps:
    - Ввести в поле ввода значение "Email"
    - Ввести в поле ввода значение "Password"
    - Нажать на кнопку "Submit"
  expected-result: |
    - Поле ввода "Password" выделено красным
    - Пользователю отображается уведомление о неверно указанном пароле
    - В DevTools во вкладке "Network" появился POST-запрос "session" со статус-кодом 422

- summary: | # № 15
    Проверка успешного восстановления пароля
  requirement: |
    Пользователь может восстановить пароль от аккаунта
  prerequisites: |
    Пользователь авторизован на сайте (https://mail.ru/).
    Пользователь зарегистрирован на сайте игры.
    Пользователь не авторизован на сайте игры, открыта страница авторизации
  test-data: |
    Данные для авторизации на сайте (https://mail.ru/):
    Email = testa-testova.2023@bk.ru
    Password = test2023!
    Данные для сайта игры:
    Email = testa-testova.2023@bk.ru
    New password = test2023!!
  steps:
    - Нажать на гипертекст "Forgot your password?"
    - Ввести в поле ввода значение "Email"
    - Нажать на кнопку "Submit" (Результат № 1)
    - Открыть страницу входящей почты сайта (https://e.mail.ru/inbox/) (Результат № 2)
    - Нажать на письмо от Codebattle
    - Нажать на ссылку в письме
    - Ввести в поле ввода значение "New password"
    - Нажать на кнопку "SAVE" (Результат № 3)
  expected-result: |
    Результат № 1:
    - Пользователю отображается уведомление об отправке письма на электронную почту с инструкцией по восстановлению пароля
    - В DevTools во вкладке "Network" появился POST-запрос статус-кодом 200
    Результат № 2:
    Пользователю отображается письмо от Codebattle
    Результат № 3:
    - Пользователю отображается уведомление о смене пароля
    - В DevTools во вкладке "Network" появился POST-запрос "resetPassword" со статус-кодом 200

- summary: | # № 16
    Проверка авторизации с новым паролем после восстановления пароля
  requirement: |
    Зарегистрированный по электронной почте пользователь после восстановления пароля может авторизоваться с новым паролем
  prerequisites: |
    Произведено восстановление пароля.
    Пользователь не авторизован, открыта страница авторизации
  test-data: |
    Email = testa-testova.2023@bk.ru
    Password = test2023!!
  steps:
    - Ввести в поле ввода значение "Email"
    - Ввести в поле ввода значение "Password"
    - Нажать на кнопку "Submit"
  expected-result: |
    Пользователь авторизован и находится на главной странице

- summary: | # № 17
    Проверка успешной авторизации через аккаунт GitHub
  requirement: |
    Пользователь может авторизоваться через аккаунт GitHub
  prerequisites: |
    Пользователь авторизован на сайте (https://github.com/).
    Пользователь не авторизован на сайте игры, открыта страница авторизации
  test-data: |
    Данные для авторизации на сайте (https://github.com/):
    Username or email address = TestUserTT2023
    Password = test2023!!!
  steps:
    - Нажать на кнопку "Sign in with Github"
  expected-result: |
    - Пользователь авторизован и находится на главной странице
    - Пользователю отображается уведомление об успешной аутентификации
    - На кнопке вызова навигационного меню отображается информация   об авторизованном пользователе (имя, аватар, рейтинг, ранг)
    - Аватар и имя пользователя соответствует аватару и имени аккаунта в GitHub
    - Пользователю присвоился рейтинг = 1200
    - В чате появилось уведомление о присоединении к каналу "Lobby"
    - Пользователь отображается в списке онлайн пользователей в канале "Lobby"
    - В DevTools во вкладке "Network" появился GET-запрос "completed" со статус-кодом 200

- summary: | # № 18
    Проверка показа руководства по игре на странице игры не смотревшему и не пропускавшему руководство пользователю
  requirement: |
    Не смотревшему и не пропускавшему руководство пользователю должно показываться руководство по игре на странице игры
  prerequisites: |
    Пользователь не авторизован, открыта главная страница.
    Пользователь не смотрел и не пропускал руководство по игре
  test-data: |
    Отсутствуют
  steps:
    - Нажать на кнопку "TRY SIMPLE BATTLE"
  expected-result: |
    - Пользователь находится на странице игры и ему отображается окно с 1 пунктом руководства об условиях выигрыша в игре

- summary: | # № 19
    Проверка возможности поочередного просмотра пунктов руководства по игре на странице игры
  requirement: |
    Пользователь может поочередно просматривать пункты руководства по игре на странице игры
  prerequisites: |
    Пользователь не авторизован, открыта страница игры с окном с 1 пунктом руководства по игре
  test-data: |
    Отсутствуют
  steps:
    - Нажать на кнопку "Next (1/8)" (Результат 1)
    - Нажать на кнопку "Next (2/8)" (Результат 2)
    - Нажать на кнопку "Next (3/8)" (Результат 3)
    - Нажать на кнопку "Next (4/8)" (Результат 4)
    - Нажать на кнопку "Next (5/8)" (Результат 5)
    - Нажать на кнопку "Next (6/8)" (Результат 6)
    - Нажать на кнопку "Next (7/8)" (Результат 7)
    - Нажать на кнопку "Last (8/8)" (Результат 8)
  expected-result: |
    Результат 1: Пользователю отображается окно со 2 пунктом руководства по заданию игры
    Результат 2: Пользователю отображается окно с 3 пунктом руководства по выбору языка программирования в игре
    Результат 3: Пользователю отображается окно с 4 пунктом руководства по редактору кода игры
    Результат 4: Пользователю отображается окно с 5 пунктом руководства по сдаче в игре оппоненту
    Результат 5: Пользователю отображается окно с 6 пунктом руководства по перезагрузке редактора кода игры
    Результат 6: Пользователю отображается окно с 7 пунктом руководства по запуску проверки решения задания игры
    Результат 7: Пользователю отображается окно с 8 пунктом руководства по просмотру результатов проверки решения задачи игры
    Результат 8: Окно с 8-ым пунктом руководства по игре закрылось. Пользователю отображается страница игры

- summary: | # № 20
    Проверка возможности запуска пробной игры неавторизованным пользователем
  requirement: |
    Неавторизованный пользователь может сыграть пробную игру
  prerequisites: |
    Пользователь не авторизован, открыта главная страница.
    Пользователь смотрел или пропускал руководство по игре
  test-data: |
    Отсутствуют
  steps:
    - Нажать на кнопку "TRY SIMPLE BATTLE"
  expected-result: |
    Пользователь находится на странице игры, в которой:
    1. Уровень сложности игры = "elementary" (1 звезда)
    2. Счетчик обратного отсчета продолжительности игры запустился с 29 минут 59 секунд
    3. Пользователю присвоилось временное имя пользователя "John Doe"
    4. Оппонент является ботом (иконка бота у имени оппонента)

- summary: | # № 21
    Проверка настроек игры по умолчанию при создании игры
  requirement: |
    При создании игры пользователю предустановлены настройки
  prerequisites: |
    Пользователь авторизован, открыта главная страница
  test-data: |
    Отсутствуют
  steps:
    - Нажать на кнопку "CREATE A GAME"
  expected-result: |
    - Пользователю отображается окно с настройками игры
    - По умолчанию выбраны настройки:
    1. "Level" = "elementary" (1 звезда)
    2. "Game type" = "With other user"
    3. "Time control" = "8 min"
    4. "Choose task by name or tags":
        4.1. Выбрана опция "random task"
        4.2. "Tags" = не выбраны

- summary: | # № 22
    Проверка создания игры с выбранным уровнем сложности
  requirement: |
    При создании игры пользователь может выбрать уровень сложности
  prerequisites: |
    Пользователь авторизован, открыто окно с настройками игры на главной странице.
    Пользователь смотрел или пропускал руководство по игре
  test-data: |
    Отсутствуют
  steps:
    - Выбрать уровень сложности игры
    - Нажать на кнопку "Create battle"
  expected-result: |
    Пользователю на главной странице отображается игра с выбранным уровнем сложности

- summary: | # № 23
    Проверка возможности создания игры против другого пользователя
  requirement: |
    Пользователь может создать игру против другого пользователя
  prerequisites: |
    Пользователь авторизован, открыто окно с настройками игры на главной странице
  test-data: |
    Отсутствуют
  steps:
    - Нажать на кнопку "Create battle"
  expected-result: |
    - Пользователю на главной странице отображается игра, у которой:
    1. "State" = waiting_opponent
    2. "Players" = имя авторизованного пользователя

- summary: | # № 24
    Проверка возможности создания игры против бота
  requirement: |
    Пользователь может создать игру против бота
  prerequisites: |
    Пользователь авторизован, открыто окно с настройками игры на главной странице.
    Пользователь смотрел или пропускал руководство по игре
  test-data: |
    Отсутствуют
  steps:
    - Нажать на кнопку "With a bot"
    - Нажать на кнопку "Create battle"
  expected-result: |
    - Пользователь находится на странице игры
    - Оппонент является ботом (иконка бота у имени оппонента)

- summary: | # № 25
    Проверка возможности создания приглашения в игру другу
  requirement: |
    Пользователь может создать приглашение в игру другу
  prerequisites: |
    Пользователь № 1 авторизован, открыто окно с настройками игры на главной странице.
    Пользователь № 2 авторизован, открыта главная страница.
    Пользователи № 1 и № 2 не получали и не отправляли приглашений в игру
  test-data: |
    Отсутствуют
  steps:
    - (Пользователь № 1) Нажать на кнопку "With a friend"
    - (Пользователь № 1) Ввести в поле ввода имя пользователя № 1
    - (Пользователь № 1) Выбрать в выпадающем списке пользователя № 1 
    - (Пользователь № 1) Нажать на кнопку "Create invite"
  expected-result: |
    - Пользователю № 1 в чате отображается уведомление об отправке приглашения в игру пользователю № 2 и ожидании его ответа
    - У пользователя № 1 значение счетчика приглашений в игру = 1
    - Пользователю № 2 в чате отображается уведомление о получении приглашения в игру от пользователя № 1
    - У пользователя № 2 значение счетчика приглашений в игру = 1

- summary: | # № 26
    Проверка возможности создания игры против друга
  requirement: |
    Пользователь может создать игру против друга
  prerequisites: |
    Пользователи № 1 и № 2 авторизованы, открыта главная страница.
    Пользователи № 1 и № 2 смотрели или пропускали руководство по игре.
    Пользователем № 1 отправлено приглашение в игру пользователю № 2
  test-data: |
    Отсутствуют
  steps:
    - (Пользователь № 2) Нажать на кнопку вызова списка приглашений в игру
    - (Пользователь № 2) Нажать на кнопку "Accept"
  expected-result: |
    - Пользователь № 2 находится на странице игры, оппонентом в которой является пользователь № 1
    - У пользователя № 2 значение счетчика приглашений в игру не отображается
    - Пользователь № 1 находится на странице игры, оппонентом в которой является пользователь № 2
    - У пользователя № 1 значение счетчика приглашений в игру не отображается

- summary: | # № 27
    Проверка возможности создания игры продолжительностью 3 минуты
  requirement: |
    Пользователь может создать игру продолжительностью от 3 до 60 минут. Счетчик обратного отсчета продолжительности игры запускается со значением времени, которое меньше выбранного значения настройки на 1 секунду
  prerequisites: |
    Пользователь авторизован, открыто окно с настройками игры на главной странице.
    В настройке "Game Type" выбрано "With a bot".
    Пользователь смотрел или пропускал руководство по игре
  test-data: |
    Отсутствуют
  steps:
    - Выбрать продолжительность игры = 3 минутам
    - Нажать на кнопку "Create battle"
  expected-result: |
    - Пользователь находится на странице игры
    - Счетчик обратного отсчета продолжительности игры запустился с 2 минут 59 секунд

- summary: | # № 28
    Проверка возможности создания игры продолжительностью от 4 до 59 минут, но не равной 8 минутам
  requirement: |
    Пользователь может создать игру продолжительностью от 3 до 60 минут. Счетчик обратного отсчета продолжительности игры запускается со значением времени, которое меньше выбранного значения настройки на 1 секунду
  prerequisites: |
    Пользователь авторизован, открыто окно с настройками игры на главной странице.
    В настройке "Game Type" выбрано "With a bot".
    Пользователь смотрел или пропускал руководство по игре
  test-data: |
    Отсутствуют
  steps:
    - Выбрать продолжительность игры от 4 до 59 минут, но не равную 8 минутам
    - Нажать на кнопку "Create battle"
  expected-result: |
    - Пользователь находится на странице игры
    - Счетчик обратного отсчета продолжительности игры запустился с "n - 1" минут 59 секунд, где "n" = выбранной продолжительности игры

- summary: | # № 29
    Проверка возможности создания игры продолжительностью 60 минут
  requirement: |
    Пользователь может создать игру продолжительностью от 3 до 60 минут. Счетчик обратного отсчета продолжительности игры запускается со значением времени, которое меньше выбранного значения настройки на 1 секунду
  prerequisites: |
    Пользователь авторизован, открыто окно с настройками игры на главной странице.
    В настройке "Game Type" выбрано "With a bot".
    Пользователь смотрел или пропускал руководство по игре
  test-data: |
    Отсутствуют
  steps:
    - Выбрать продолжительность игры = 60 минутам
    - Нажать на кнопку "Create battle"
  expected-result: |
    - Пользователь находится на странице игры
    - Счетчик обратного отсчета продолжительности игры запустился с 59 минут 59 секунд

- summary: | # № 30
    Проверка возможности создания игры со случайным заданием
  requirement: |
    Пользователь может создать игру со случайным заданием
  prerequisites: |
    Пользователь авторизован, открыто окно с настройками игры на главной странице.
    В настройке "Game Type" выбрано "With a bot".
    Пользователь смотрел или пропускал руководство по игре
  test-data: |
    Отсутствуют
  steps:
    - Нажать на кнопку "Create battle"
  expected-result: |
    Пользователь находится на странице игры со случайным заданием

- summary: | # № 31
    Проверка возможности создания игры с выбранным заданием
  requirement: |
    Пользователь может создать игру с выбранным заданием
  prerequisites: |
    Пользователь авторизован, открыто окно с настройками игры на главной странице.
    В настройке "Game Type" выбрано "With a bot".
    Пользователь смотрел или пропускал руководство по игре
  test-data: |
    Отсутствуют
  steps:
    - Ввести в поле ввода название существующего задания
    - Выбрать в выпадающем списке задание
    - Нажать на кнопку "Create battle"
  expected-result: |
    Пользователь находится на странице игры с выбранным заданием

- summary: | # № 32
    Проверка возможности фильтрации заданий по тегу при создании игры
  requirement: |
    Пользователь может фильтровать задания по тегу при создании игры
  prerequisites: |
    Пользователь авторизован, открыто окно с настройками игры на главной странице
  test-data: |
    Отсутствуют
  steps:
    - Выбрать тег
  expected-result: |
    Пользователю отображается количество доступных заданий с выбранным тегом

- summary: | # № 33
    Проверка возможности фильтрации заданий по нескольким тегам при создании игры
  requirement: |
    Пользователь может фильтровать задания по нескольким тегам при создании игры
  prerequisites: |
    Пользователь авторизован, открыто окно с настройками игры на главной странице
  test-data: |
    Отсутствуют
  steps:
    - Выбрать несколько тегов
  expected-result: |
    Пользователю отображается количество доступных заданий с выбранными тегами

- summary: | # № 34
    Проверка получения уведомления о победе на странице игры после выигрыша пользователя
  requirement: |
    По окончанию игры пользователь получает уведомление о результате
  prerequisites: |
    Пользователь авторизован.
    Пользователь смотрел или пропускал руководство по игре.
    Открыта страница игры против бота с заданием "rect_area" игры.
    У пользователя выбран язык программирования JavaScript
  test-data: |
    Task solution:
    const _ = require("lodash");
    const R = require("rambda");
    const solution = (width, length) => {
      return width * length;
    };
    module.exports = solution;
  steps:
    - Вставить значение "Task solution" вместо шаблона кода
    - Нажать на кнопку "Run"
  expected-result: |
    - Пользователю воспроизвелся звуковой сигнал победы одного из оппонентов, отобразилось окно с уведомлением о победе с GIF-изображением победы

- summary: | # № 35
    Проверка получения уведомления о поражении на странице игры после сдачи пользователем
  requirement: |
    По окончанию игры пользователь получает уведомление о результате
  prerequisites: |
    Пользователь авторизован.
    Пользователь смотрел или пропускал руководство по игре.
    Открыта страница игры против бота
  test-data: |
    Отсутствуют
  steps:
    - Нажать на кнопку "Give Up"
    - Нажать на кнопку "Give up" окна
  expected-result: |
    - Пользователю воспроизвелся звуковой сигнал сдачи одного из оппонентов, отобразилось окно с уведомлением о поражении с GIF-изображением сдачи

- summary: | # № 36
    Проверка получения уведомления о победе на странице игры после сдачи оппонента
  requirement: |
    По окончанию игры пользователь получает уведомление о результате
  prerequisites: |
    Пользователи № 1 и № 2 авторизованы.
    Пользователи № 1 и № 2 смотрели или пропускали руководство по игре.
    У пользователей № 1 и № 2 открыта страница игры друг против друга
  test-data: |
    Отсутствуют
  steps:
    - (Пользователь № 2) Нажать на кнопку "Give Up"
    - (Пользователь № 2) Нажать на кнопку "Give up" окна
  expected-result: |
    - Пользователю № 1 воспроизвелся звуковой сигнал сдачи одного из оппонентов, отобразилось окно с уведомлением о победе с GIF-изображением победы

- summary: | # № 37
    Проверка получения уведомления о поражении на странице игры после проигрыша пользователя
  requirement: |
    По окончанию игры пользователь получает уведомление о результате
  prerequisites: |
    Пользователи № 1 и № 2 авторизованы.
    Пользователи № 1 и № 2 смотрели или пропускали руководство по игре.
    У пользователей № 1 и № 2 открыта страница игры друг против друга с заданием "rect_area".
    У пользователя № 1 выбран язык программирования JavaScript
  test-data: |
    Task solution:
    const _ = require("lodash");
    const R = require("rambda");
    const solution = (width, length) => {
      return width * length;
    };
    module.exports = solution;
  steps:
    - (Пользователь № 1) Вставить значение "Task solution" вместо шаблона кода
    - (Пользователь № 1) Нажать на кнопку "Run"
  expected-result: |
    - Пользователю № 2 воспроизвелся звуковой сигнал победы одного из оппонентов, отобразилось окно с уведомлением о поражении с GIF-изображением поражения

- summary: | # № 38
    Проверка результатов игры и игровых показателей оппонентов на странице игры против бота при выигрыше пользователя
  requirement: |
    По окончанию игры (кроме выхода времени) пользователю отображаются результаты игры и изменяются игровые показатели оппонентов
  prerequisites: |
    Пользователь авторизован.
    Пользователь выиграл в игре против бота.
    Открыта страница игры с окном уведомления о победе
  test-data: |
    Отсутствуют
  steps:
    - Нажать на кнопку закрытия окна (Результат № 1)
    - Навести курсор на имя пользователя (Результат № 2)
    - Навести курсор на имя оппонента (Результат № 3)
  expected-result: |
    Результат № 1:
    Пользователю на странице игры отображается:
    1. Уведомление об окончании игры
    2. Уведомление о прохождении тестов и результаты тестов
    3. Уведомление о победе пользователя в игре
    4. Рамка победителя и изображение кубка у пользователя
    5. Значение выигрышей счетчика у пользователя – увеличилось на 1
    Результат № 2: 
    Отображается информация о пользователе:
    Количество выигранных игр – увеличилось на 1
    Результат № 3: 
    Отображается информация об оппоненте:
    Количество проигранных игр – увеличилось на 1

- summary: | # № 39
    Проверка результатов игры и игровых показателей оппонентов на странице игры против бота при сдаче пользователя
  requirement: |
    По окончанию игры (кроме выхода времени) пользователю отображаются результаты игры и изменяются игровые показатели оппонентов
  prerequisites: |
    Пользователь авторизован.
    Пользователь сдался в игре против бота.
    Открыта страница игры с окном уведомления о поражении
  test-data: |
    Отсутствуют
  steps:
    - Нажать на кнопку закрытия окна (Результат № 1)
    - Навести курсор на имя пользователя (Результат № 2)
    - Навести курсор на имя оппонента (Результат № 3)
  expected-result: |
    Результат № 1:
    Пользователю на странице игры отображается:
    1. Уведомление об окончании игры
    2. Уведомление о победе оппонента в игре
    3. Изображение руки с флагом у пользователя
    4. Рамка победителя и изображение кубка у оппонента
    5. Значение выигрышей счетчика у оппонента – увеличилось на 1
    Результат № 2: 
    Отображается информация о пользователе:
    Количество игр, в которых пользователь сдался – увеличилось на 1
    Результат № 3: 
    Отображается информация об оппоненте:
    Количество выигранных игр – увеличилось на 1

- summary: | # № 40
    Проверка результатов игры и игровых показателей оппонентов на странице игры против бота при проигрыше пользователя
  requirement: |
    По окончанию игры (кроме выхода времени) пользователю отображаются результаты игры и изменяются игровые показатели оппонентов
  prerequisites: |
    Пользователь авторизован.
    Пользователь проиграл в игре против бота.
    Открыта страница игры с окном уведомления о поражении
  test-data: |
    Отсутствуют
  steps:
    - Нажать на кнопку закрытия окна (Результат № 1)
    - Навести курсор на имя пользователя (Результат № 2)
    - Навести курсор на имя оппонента (Результат № 3)
  expected-result: |
    Результат № 1:
    Пользователю на странице игры отображается:
    1. Уведомление об окончании игры
    2. Уведомление о победе оппонента в игре
    3. Рамка победителя и изображение кубка у оппонента
    4. Значение счетчика выигрышей у оппонента – увеличилось на 1
    Результат № 2: 
    Отображается информация о пользователе:
    Количество проигранных игр – увеличилось на 1
    Результат № 3: 
    Отображается информация об оппоненте:
    Количество выигранных игр – увеличилось на 1

- summary: | # № 41
    Проверка игровых показателей оппонентов на странице игры после выигрыша одного из них и отсутствия сдачи другого в игре против пользователя, не являющегося ботом
  requirement: |
    По окончанию игры (кроме выхода времени) изменяются игровые показатели оппонентов
  prerequisites: |
    Пользователи № 1 и № 2 авторизованы на сайте игры.
    У пользователя № 1 (№ 2) открыта страница игры с закрытым окном победы (поражения), в которой победил пользователь № 1
  test-data: |
    Отсутствуют
  steps:
    - (Пользователь № 1) Навести курсор на имя пользователя (Результат № 1)
    - (Пользователь № 1) Навести курсор на имя оппонента (Результат № 2)
  expected-result: |
    Результат № 1: 
    Отображается информация о пользователе № 1:
    1. Рейтинг = рейтингу победителя (после игры) "Rw_new" (см. расчет)
    2. Количество выигранных игр – увеличилось на 1
    Результат № 2: 
    Отображается информация о пользователе № 2:
    1. Рейтинг = рейтингу проигравшего (после игры) "Rl_new" (см. расчет)
    2. Количество проигранных игр – увеличилось на 1
    Расчет рейтингов:
    Rw_new = Rw + Rlvl * Kw-l
    Rl_new = Rl + Rlvl * Kl-w
    Rw – рейтинг победителя (до игры)
    Rl – рейтинг проигравшего (до игры)
    Rlvl – очки рейтинга в зависимости от уровня сложности игры:
        для "elementary" (1 звезда) = 16,
        для "easy" (2 звезды) = 24,
        для "medium" (3 звезды) = 32,
        для "hard" (4 звезды) = 40.
    Kw-l – коэффициент победителя в зависимости от рейтинга оппонента (до игры)
    Kl-w – коэффициент проигравшего в зависимости от рейтинга оппонента (до игры)
    Kw-l = 1 – Krw / (Krw + Krl)
    Kl-w = 0 – Krl / (Krw + Krl)
    Krw – коэффициент победителя в зависимости от своего рейтинга (до игры)
    Krl – коэффициент проигравшего в зависимости от своего рейтинга (до игры)
    Krw = 10 ^ (Rw / 400)
    Krl = 10 ^ (Rl / 400)

- summary: | # № 42
    Проверка игровых показателей оппонентов на странице игры после сдачи одного из них в игре против пользователя, не являющегося ботом
  requirement: |
    По окончанию игры (кроме выхода времени) изменяются игровые показатели оппонентов
  prerequisites: |
    Пользователи № 1 и № 2 авторизованы на сайте игры.
    У пользователя № 1 (№ 2) открыта страница игры с закрытым окном победы (сдачи), в которой сдался пользователь № 2
  test-data: |
    Отсутствуют
  steps:
    - (Пользователь № 1) Навести курсор на имя пользователя (Результат № 1)
    - (Пользователь № 1) Навести курсор на имя оппонента (Результат № 2)
  expected-result: |
    Результат № 1: 
    Отображается информация о пользователе № 1:
    Количество выигранных игр – увеличилось на 1
    Результат № 2: 
    Отображается информация о пользователе № 2:
    1. Рейтинг = рейтингу проигравшего (после игры) "Rl_new" (см. расчет)
    2. Количество игр, в которых пользователь сдался – увеличилось на 1
    Расчет рейтинга:
    Rl_new = Rl – 10 
    Rl – рейтинг проигравшего (до игры)

- summary: | # № 43
    Проверка возможности смены языка программирования на странице игры 
  requirement: |
    Пользователь может сменить язык программирования на странице игры
  prerequisites: |
    Пользователь авторизован.
    Пользователь смотрел или пропускал руководство по игре.
    Открыта страница игры против бота
  test-data: |
    Отсутствуют
  steps:
    - Выбрать другой язык программирования
  expected-result: |
    Пользователю отображается выбранный язык программирования и шаблон кода этого языка

- summary: | # № 44
    Проверка настроек по умолчанию на странице настроек профиля не менявшим настройки пользователем
  requirement: |
    На странице настроек профиля новому пользователю предустановлены настройки
  prerequisites: |
    Пользователь авторизован, открыта любая страница.
    Пользователь не менял настройки профиля
  test-data: |
    Отсутствуют
  steps:
    - Нажать на кнопку вызова навигационного меню
    - Нажать на пункт меню "Settings"
  expected-result: |
    - Пользователь находится на странице настроек профиля
    - Пользователю отображаются настройки по умолчанию:
    1. "Your name" – текущее имя пользователя
    2. "Your weapon" – язык программирования "JavaScript"
    3. "Select sound type" – тип звука "Dendy"
    4. "Select sound level" – уровень громкости "5"

- summary: | # № 45
    Проверка отсутствия авторизации у вышедшего из аккаунта пользователя 
  requirement: |
    Пользователь может выйти из аккаунта
  prerequisites: |
    Пользователь авторизован, открыта любая страница
  test-data: |
    Отсутствуют
  steps:
    - Нажать на кнопку вызова навигационного меню
    - Нажать на пункт меню "Sign Out"
  expected-result: |
    Пользователь не авторизован и находится на главной странице
